AI Agent Workflow UI 소개 및 설계 문서

목적
이 시스템은 플래너 모델을 기반으로 사용자 요청을 분석하고 전략을 수립하며, 캔버스 기반의 시각적 워크플로우 UI를 통해 실행 가능한 플로우를 구성하고 결과를 제공하는 과정을 지원한다. 사용자는 텍스트 입력을 통해 요청을 전달하고, 플래너 모델이 생성한 플로우를 확인 및 수정한 뒤 실행 결과를 테이블 또는 보고서 형태로 받을 수 있다. 전체 UI는 ChatGPT와 유사한 인터페이스를 가지며, 사용성과 직관성을 높이기 위해 탭 기반 구조를 가진다.

화면 레이아웃 개요
2-1. 화면은 상단에 탭 영역이 있으며 총 세 개의 탭으로 구성된다.
1번 탭은 텍스트 출력 영역이다. 플래너 모델이 사용자 요청을 분석하고 전략과 실행 계획을 텍스트 형태로 출력하며, 실행 여부를 확인하는 메시지를 제공한다.
2번 탭은 캔버스 영역이다. 플래너 모델이 생성한 워크플로우를 시각적으로 표시하며, 시작 노드, 여러 작업 박스, 최종 결과 박스로 구성된다.
3번 탭은 최종 결과 출력 영역이다. 실행 결과를 테이블 또는 보고서 형태로 출력하며, 보고서는 수정 가능하지만 테이블은 수정 불가능하다.
2-2. 하단에는 항상 고정된 텍스트 입력창과 보내기 버튼이 존재한다. 이 입력창은 ChatGPT의 입력창과 동일한 형태를 가지며 사용자는 여기에 텍스트를 입력해 플래너 모델과 상호작용할 수 있다.

플로우 전체 프로세스
3-1. 사용자는 하단 입력창에 요청을 입력한다.
3-2. 입력된 요청은 1번 탭의 출력 영역에 나타나며, 플래너 모델은 요청을 분석한 후 전략과 실행 플랜을 텍스트 형태로 제공한다.
3-3. 특정 조건이 충족되면 "실행하시겠습니까?"라는 메시지가 출력되며, 사용자는 수락 버튼을 누르거나 Ctrl+Enter를 입력할 수 있다.
3-4. 수락하면 2번 탭으로 전환되며, 플래너 모델이 생성한 플로우가 캔버스에 시각적으로 표시된다.
3-5. 캔버스에는 시작 노드, 여러 작업 박스, 최종 결과 박스가 순차적으로 연결된 형태로 배치된다.
3-6. 각 작업 박스에는 프롬프트 입력창, "에이전트 툴 사용" 체크박스, MCP 서버에서 불러온 옵션 리스트가 포함된 다중 선택 드롭다운 메뉴가 존재한다.
3-7. 사용자는 각 작업 박스의 프롬프트, 체크박스, 드롭다운 선택 항목을 수정할 수 있다.
3-8. 캔버스의 시작 노드를 클릭하거나 Ctrl+Enter를 입력하면 플로우가 실행된다.
3-9. 실행이 완료되면 3번 탭으로 전환되며, 결과가 테이블 또는 보고서 형태로 출력된다.
3-10. 보고서 결과물은 수정할 수 있지만 테이블은 수정이 불가능하다.

캔버스 영역 상세
4-1. 캔버스의 배경은 옅은 회색이며 각 박스는 검은색 배경에 6픽셀 둥근 모서리를 가진다.
4-2. 시작 노드는 검은색 원형이며 내부에는 "시작"이라는 텍스트가 있다.
4-3. 작업 박스의 내부 구조는 다음과 같다.

프롬프트 입력창은 길고 가로로 확장된 흰색 배경의 텍스트 박스다. 예시 텍스트는 "PER과 PBR이 피어그룹에 비해 높은 기업을 분석해줘"와 같은 형태다.

체크박스 항목은 "에이전트 툴 사용"이라는 라벨을 가진다.

드롭다운 메뉴는 MCP 서버에서 불러온 연결 가능한 모듈 리스트를 포함하며 각 항목에는 개별 체크박스가 있다. 예시 항목으로는 "네이버증권", "카카오증권", "다음증권" 등이 있다.
4-4. 최종 결과 박스는 검은색 둥근 사각형이며 상단에 "결과보고"라는 라벨이 있다. 내부에는 단일 선택 드롭다운 메뉴가 있으며, 항목은 "테이블"과 "보고서"이다.

MCP 서버 연동
5-1. 드롭다운 메뉴에 표시되는 항목은 자체 구축된 MCP 서버에서 연결 가능한 모듈 리스트를 동적으로 불러와 표시된다.
5-2. 예시 MCP 모듈로는 naver-finance-agent, kakao-finance-agent, custom-stock-reporter 등이 있다.
5-3. 사용자가 드롭다운에서 항목을 선택하면 해당 MCP 모듈이 플로우 실행 시 호출된다.

탭별 역할 및 수정 가능 여부
6-1. 1번 탭 출력 영역은 플래너 모델의 출력 내용을 표시하며 사용자가 자유롭게 수정할 수 있다.
6-2. 2번 탭 캔버스 영역에서는 각 작업 박스의 프롬프트, 체크박스, 드롭다운 항목을 모두 수정할 수 있다.
6-3. 3번 탭 최종 결과 출력 영역에서 테이블은 수정할 수 없지만 보고서는 수정할 수 있다.

사용자 흐름 예시
7-1. 사용자가 "PER이 높은 기업 분석해줘"라는 요청을 입력한다.
7-2. 플래너 모델이 요청을 분석해 전략과 실행 플랜을 1번 탭에 출력하고 "실행하시겠습니까?"라는 메시지를 표시한다.
7-3. 사용자가 수락 버튼을 누르거나 Ctrl+Enter를 입력하면 2번 탭으로 전환되고 생성된 워크플로우가 캔버스에 표시된다.
7-4. 사용자는 각 박스의 프롬프트, 체크박스, 드롭다운 항목을 수정할 수 있다.
7-5. 시작 노드를 클릭하거나 Ctrl+Enter를 입력하면 플로우가 실행된다.
7-6. 실행이 완료되면 3번 탭으로 전환되며 결과가 출력된다. 테이블은 수정할 수 없고 보고서는 수정할 수 있다.

전체 요약
이 시스템은 ChatGPT와 유사한 인터페이스를 가지며, 플래너 모델을 활용해 사용자 요청을 분석하고 실행 가능한 워크플로우를 생성한다. 사용자는 텍스트 입력을 통해 요청을 전달하고, 생성된 플로우를 캔버스에서 시각적으로 확인하고 수정할 수 있다. 실행 후에는 테이블 또는 보고서 형태의 결과를 확인하며, 보고서 내용은 수정할 수 있다. 드롭다운 항목은 MCP 서버와 연동되어 동적으로 불러오며, 각 MCP 모듈은 플로우 실행 시 호출된다. 전체 프로세스는 대화형 플래닝, 시각적 플로우 생성, 실행 및 결과 확인의 세 단계를 거친다.